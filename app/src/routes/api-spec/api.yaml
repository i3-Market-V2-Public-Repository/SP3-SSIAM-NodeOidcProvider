openapi: '3.0.3'
info:
  description: The API of the i3Market OpenID Connect Provider. 
  version: 1.0.0
  title: i3-market OpenID Connect Provider API
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'

tags:
  - name: OIDC Core
    description: |
      The OpenID Connect Core 1.0 defines the core OpenID Connect functionality: authentication built on top of OAuth 2.0 and the use of Claims to communicate information about the End-User. It also describes the security and privacy considerations for using OpenID Connect.
    externalDocs:
      url: https://openid.net/specs/openid-connect-core-1_0.html
  - name: OIDC Discovery
    description: The OpenID Connect Discovery 1.0 specification defines a mechanism for an OpenID Connect Relying Party to discover the End-User's OpenID Provider and obtain information needed to interact with it, including its OAuth 2.0 endpoint locations.
    externalDocs:
      url: https://openid.net/specs/openid-connect-discovery-1_0.html
  # - name: Developers
  #   description: Developers endpoint. Developers can log in to get a valid initial_access_token for regsitering new clients
  # - name: Credential
  #   description: Testing endpoint where to obtain consumer/provider credentials


paths:
  /release2/oidc/.well-known/openid-configuration:
    $ref: './paths/oidc/well-known-openid-configuration.yaml#/paths/~1.well-known~1openid-configuration'

  /release2/oidc/jwks:
    $ref: './paths/oidc/jwks.yaml#/paths/~1jwks'

  /release2/oidc/auth:
    $ref: "./paths/oidc/auth.yaml#/paths/~1auth"

  /release2/oidc/token:
    $ref: "./paths/oidc/token.yaml#/paths/~1token"

  /release2/developers/login:
    $ref: "./paths/developers/login.yaml#/paths/~1login"

  # /credential/{credentialName}/{did}:
  #   $ref: "./paths/credential.yaml#/paths/~1%7BcredentialName%7D~1%7Bdid%7D"

components:
  securitySchemes:
    BasicAuth:
      $ref: "./security-schemes/basic.yaml#/basicAuth"